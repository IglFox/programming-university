#include <stdio.h>
#include <stdlib.h>

// Точка входа в программу.
int main() {
    // Определение массива символов (алфавита), из которого будут генерироваться комбинации.
    // "abcd" — это строка, содержащая буквы a, b, c, d (и завершающий нулевой символ \0).
    const char alphabet[] = "abcd";
    
    // Вычисление индекса последней буквы алфавита.
    // sizeof(alphabet) возвращает 5 (4 буквы + \0), вычитаем 2, чтобы получить индекс последней буквы (d, индекс 3).
    const size_t last_digit = sizeof(alphabet) - 2;
    
    // Задание длины генерируемых комбинаций (каждая комбинация будет состоять из 4 букв).
    const size_t length = 4;
    
    // Счетчик для подсчета общего количества сгенерированных комбинаций.
    int count = 0;
    
    // Массив для хранения текущей комбинации. Каждый элемент — это индекс буквы из alphabet.
    // Например, number = {0, 0, 0, 0} соответствует комбинации "aaaa".
    size_t number[length];
    
    // Инициализация массива number нулями, что соответствует начальной комбинации "aaaa".
    for (size_t i = 0; i < length; ++i) 
        number[i] = 0;

    // Бесконечный цикл для генерации всех возможных комбинаций.
    while (1) {
        // Цикл для вывода текущей комбинации.
        // Проходим по каждому элементу массива number и выводим соответствующую букву из alphabet.
        for (size_t i = 0; i < length; ++i)
            // putchar выводит один символ; alphabet[number[i]] — это буква, соответствующая индексу.
            putchar(alphabet[number[i]]);
        
        // Выводим перевод строки после каждой комбинации для читаемости.
        putchar('\n');
        
        // Увеличиваем счетчик комбинаций.
        count++;
        
        // Инициализация переменной pos значением length (указывает на позицию за последним элементом number).
        // Это начальная точка для проверки элементов массива number справа налево.
        size_t pos = length;
        
        // Цикл для нахождения позиции, которую нужно увеличить для генерации следующей комбинации.
        // Проверяем, равен ли элемент на текущей позиции последнему индексу алфавита (last_digit = 3, буква d).
        while (number[--pos] == last_digit) {  
            // Если достигли первой позиции (pos == 0) и она тоже равна last_digit,
            // значит, сгенерированы все комбинации (например, "dddd"), и пора завершать программу.
            if (pos == 0)
                // Переход к метке exit для выхода из цикла и вывода результата.
                goto exit;
            
            // Если текущий элемент равен last_digit, сбрасываем его в 0 (переходим к букве a).
            // Это аналогично "переносу" в числовой системе, например, когда 9 переходит в 0.
            number[pos] = 0;
        }
        
        // Когда найдена позиция, где number[pos] != last_digit, увеличиваем значение на этой позиции.
        // Это соответствует переходу к следующей букве в алфавите (например, a → b).
        ++number[pos];
    }
    
    // Метка для выхода из бесконечного цикла, когда все комбинации сгенерированы.
exit:
    // Вывод общего количества сгенерированных комбинаций.
    printf("%d\n", count);
    
    // Успешное завершение программы.
    return 0;
}